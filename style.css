/* style.css — BMG Crew Builder Mobile (2025) — ЧИСТАЯ ВЕРСИЯ */
* { margin:0; padding:0; box-sizing:border-box; }

body {
  background:#000;
  color:#fff;
  font-family:'Oswald','Arial Black',sans-serif;
  min-height:100vh;
  padding-bottom:100px;
  -webkit-tap-highlight-color:transparent;
}

/* ТОП-БАР */
.top-bar {
  background:linear-gradient(to bottom,#111,#000);
  padding:18px 15px;
  text-align:center;
  border-bottom:4px solid #e94560;
  position:sticky;
  top:0;
  z-index:100;
  box-shadow:0 4px 15px rgba(0,0,0,0.6);
}
.top-bar h1 {
  font-size:26px;
  letter-spacing:6px;
  margin-bottom:6px;
  color:#e94560;
  text-shadow:0 0 20px rgba(233,69,96,0.7);
}
.top-bar-content {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:0 15px;
}
.compendium-small-btn {
  display:flex;
  align-items:center;
  gap:8px;
  background:#e94560;
  color:white;
  padding:8px 14px;
  border-radius:30px;
  font-size:13px;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 4px 15px rgba(233,69,96,0.5);
  transition:all 0.3s;
}
.compendium-small-btn:hover {
  background:#ff3366;
  transform:translateY(-2px);
}
.compendium-small-btn img {
  width:28px;
  height:28px;
}
.funds {
  font-size:17px;
  font-weight:bold;
  margin-top:8px;
}
.funds span { color:#e94560; margin:0 10px; }

/* ВКЛАДКИ ФРАКЦИЙ — ОДИНАКОВЫЕ + ПЕРЕНОС */
.tabs-container {
  background:#111;
  padding:12px 10px;
}
.tabs {
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:center;
  max-width:100%;
}
.tab {
  flex:1;
  min-width:120px;
  max-width:150px;
  padding:14px 10px;
  background:#222;
  border:2px solid #444;
  color:#ccc;
  border-radius:12px;
  font-weight:bold;
  font-size:13.5px;
  text-align:center;
  transition:all 0.3s ease;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.tab.active,
.tab:hover {
  background:#e94560;
  border-color:#e94560;
  color:white;
  transform:scale(1.05);
  box-shadow:0 0 20px rgba(233,69,96,0.6);
}
@media (max-width:380px) {
  .tab { min-width:110px; font-size:13px; }
}

/* ПОИСК НА ГЛАВНОЙ */
.search-container {
  padding:14px;
  background:#111;
}
#searchInput {
  width:100%;
  padding:16px 20px;
  background:#222;
  border:2px solid #444;
  border-radius:14px;
  color:white;
  font-size:17px;
  text-align:center;
  outline:none;
}
#searchInput::placeholder { color:#777; }

/* СЕТКА МОДЕЛЕЙ */
.models-grid {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(145px,1fr));
  gap:14px;
  padding:14px;
}
.mini-card {
  background:#1a1a1a;
  border-radius:14px;
  overflow:hidden;
  cursor:pointer;
  position:relative;
  border:2px solid transparent;
  box-shadow:0 4px 12px rgba(0,0,0,0.5);
  transition:all 0.3s ease;
}
.mini-card:hover { transform:translateY(-6px); box-shadow:0 12px 25px rgba(233,69,96,0.4); }
.mini-card.in-crew {
  border:4px solid #e94560 !important;
  box-shadow:0 0 30px rgba(233,69,96,0.8) !important;
  transform:scale(1.04);
}
.mini-card img { width:100%; height:115px; object-fit:cover; }
.mini-info { padding:10px 8px; text-align:center; }
.mini-name {
  font-weight:bold;
  font-size:13.5px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  margin-bottom:3px;
}
.mini-rep { color:#e94560; font-weight:bold; font-size:14px; }

.add-btn, .remove-btn {
  position:absolute;
  top:8px; right:8px;
  width:40px; height:40px;
  border-radius:50%;
  font-size:24px;
  font-weight:bold;
  border:none;
  z-index:10;
  box-shadow:0 3px 10px rgba(0,0,0,0.6);
  transition:all 0.3s ease;
}
.add-btn { background:#e94560; color:white; }
.add-btn:hover { background:#ff3366; transform:scale(1.25); }
.remove-btn { background:#c00; color:white; }
.remove-btn:hover { background:#f00; transform:scale(1.25); }

/* НИЖНЯЯ ПАНЕЛЬ */
.crew-bar {
  position:fixed;
  bottom:0; left:0; right:0;
  background:linear-gradient(to top,#000,#111);
  border-top:4px solid #e94560;
  padding:14px;
  text-align:center;
  z-index:999;
  box-shadow:0 -8px 25px rgba(0,0,0,0.8);
}
.crew-total { font-size:18px; color:#e94560; font-weight:bold; letter-spacing:1.2px; }
.clear-btn {
  margin-top:10px;
  padding:11px 24px;
  background:#c00;
  color:white;
  border:none;
  border-radius:12px;
  font-size:15px;
  font-weight:bold;
  cursor:pointer;
}

/* ПОЛНАЯ КАРТОЧКА */
.full-card {
  position:fixed;
  top:0; left:0; width:100%; height:100%;
  background:#000;
  z-index:1000;
  overflow-y:auto;
  display:none;
  padding:10px;
}
.full-card.active { display:block; }
.full-inner {
  max-width:460px;
  margin:0 auto;
  background:#111;
  border:5px solid #e94560;
  border-radius:20px;
  overflow:hidden;
  box-shadow:0 0 50px rgba(233,69,96,0.7);
  position:relative;
}
.close-full {
  position:absolute;
  top:12px; right:20px;
  font-size:52px;
  color:#f3f72c;
  cursor:pointer;
  z-index:10;
  font-weight:bold;
}
.full-header {
  background:#e94560;
  color:white;
  padding:22px 20px;
  text-align:center;
  font-size:28px;
  font-weight:bold;
  position:relative;
}
.full-rank {
  position:absolute;
  bottom:-18px;
  left:50%;
  transform:translateX(-50%);
  background:#000;
  color:#e94560;
  padding:8px 26px;
  border-radius:30px;
  font-size:16px;
  font-weight:bold;
  border:3px solid #e94560;
  white-space:nowrap;
}
.full-img { width:100%; height:400px; object-fit:cover; border-bottom:6px solid #e94560; }
.full-stats {
  display:grid;
  grid-template-columns:1fr 1fr 1fr 1fr;
  padding:30px 15px;
  background:#1a1a1a;
  gap:8px;
  text-align:center;
}
.stat-value { font-size:46px; color:#e94560; font-weight:bold; }
.stat-label { font-size:10.5px; color:#aaa; text-transform:uppercase; letter-spacing:2px; margin-top:4px; }
.section-title {
  background:#e94560;
  color:white;
  padding:14px;
  text-align:center;
  font-size:20px;
  font-weight:bold;
  margin:20px 0 15px;
}
.weapon-line {
  background:#222;
  margin:10px 15px;
  padding:15px;
  border-radius:12px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  border-left:5px solid #e94560;
}
.weapon-name { font-weight:bold; font-size:16px; }
.weapon-info { color:#aaa; font-size:22px; cursor:help; }
.traits-grid {
  display:flex;
  flex-wrap:wrap;
  gap:11px;
  justify-content:center;
  padding:20px 15px;
  background:#1a1a1a;
}
.trait {
  background:#e94560;
  color:white;
  padding:11px 20px;
  border-radius:30px;
  font-weight:bold;
  font-size:14.5px;
  min-width:110px;
  text-align:center;
  box-shadow:0 3px 10px rgba(0,0,0,0.4);
}

/* COMPENDIUM МОДАЛЬНЫЙ */
.compendium-modal {
  position:fixed;
  top:0; left:0; right:0; bottom:0;
  background:#000;
  z-index:2000;
  overflow-y:auto;
  display:none;
  flex-direction:column;
}
.compendium-modal.active { display:flex; }
.compendium-header {
  background:#111;
  padding:15px;
  text-align:center;
  border-bottom:4px solid #e94560;
  position:sticky;
  top:0;
  z-index:10;
}
.compendium-header h2 { color:#e94560; font-size:24px; margin:0; }
.back-btn {
  position:absolute;
  left:15px;
  top:50%;
  transform:translateY(-50%);
  background:#e94560;
  color:white;
  border:none;
  padding:10px 18px;
  border-radius:30px;
  font-weight:bold;
  font-size:14px;
  cursor:pointer;
}

/* КРАСИВЫЙ ПОИСК В COMPENDIUM */
.compendium-search-wrapper {
  padding:16px 15px 10px;
  background:#111;
  position:sticky;
  top:0;
  z-index:10;
  box-shadow:0 4px 10px rgba(0,0,0,0.5);
}
.compendium-search {
  position:relative;
  display:flex;
  align-items:center;
  background:#222;
  border-radius:50px;
  overflow:hidden;
  border:2px solid #e94560;
  box-shadow:0 4px 15px rgba(233,69,96,0.3);
  transition:all 0.3s ease;
}
.compendium-search:focus-within {
  box-shadow:0 6px 25px rgba(233,69,96,0.6);
  border-color:#ff3366;
  transform:scale(1.02);
}
.search-icon {
  width:20px;
  height:20px;
  fill:#e94560;
  margin:0 14px;
  pointer-events:none;
}
#compendiumSearch {
  flex:1;
  background:transparent;
  border:none;
  outline:none;
  color:white;
  font-size:16px;
  padding:14px 10px 14px 0;
  font-family:'Oswald',sans-serif;
}
#compendiumSearch::placeholder { color:#aaa; font-weight:500; }
.clear-search {
  background:#e94560;
  color:white;
  border:none;
  width:36px;
  height:36px;
  border-radius:50%;
  font-size:20px;
  cursor:pointer;
  margin-right:8px;
  display:flex;
  align-items:center;
  justify-content:center;
  transition:all 0.2s;
}
.clear-search:hover { background:#ff3366; transform:scale(1.1); }

/* COMPENDIUM — КОНТЕНТ */
.compendium-content { flex:1; padding-bottom:100px; }
.comp-entry {
  margin:28px 15px 10px;
  border-radius:16px;
  overflow:hidden;
  box-shadow:0 4px 15px rgba(0,0,0,0.4);
  background:#111;
  border:1px solid #333;
}
.comp-title {
  background:#e94560;
  color:white;
  padding:16px 20px;
  font-weight:bold;
  font-size:22px;
  text-align:center;
  letter-spacing:1px;
}
.comp-text {
  background:#1a1a1a;
  padding:22px 20px;
  line-height:1.75;
  color:#eee;
  font-size:15.5px;
  border-top:3px solid #333;
}

/* Плавность тапов */
button, .tab, .mini-card, .add-btn, .remove-btn, .compendium-small-btn {
  -webkit-tap-highlight-color:rgba(233,69,96,0.3);
}
/* === ОФИЦИАЛЬНЫЙ СТИЛЬ КАРТОЧКИ — BMG 3rd Edition === */
.full-stats-official {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  padding: 30px 20px;
  background: #0a0a0a;
  border-bottom: 4px solid var(--bmg-red);
}

.stat-block {
  text-align: center;
  background: #111;
  padding: 16px 8px;
  border-radius: 12px;
  border: 2px solid #333;
}

.stat-icon {
  font-size: 36px;
  margin-bottom: 8px;
}

.stat-value {
  font-size: 42px;
  font-weight: bold;
  color: var(--bmg-gold);
  line-height: 1;
}

.stat-label {
  font-size: 10px;
  color: #999;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-top: 6px;
}

/* ОРУЖИЕ — КАК В ПРИЛОЖЕНИИ */
.weapons-list {
  padding: 0 20px 20px;
}

.weapon-official {
  background: #1a1a1a;
  margin: 12px 0;
  padding: 16px;
  border-radius: 10px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-left: 6px solid var(--bmg-gold);
  font-size: 17px;
  font-weight: bold;
}
.weapon-official .weapon-info {
  color: #666;
  font-size: 24px;
}

/* ТРЕЙТЫ — КАК В ПРИЛОЖЕНИИ */
.traits-official {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  padding: 20px;
  justify-content: center;
  background: #0a0a0a;
}
.trait-official {
  background: var(--bmg-red);
  color: white;
  padding: 10px 18px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: bold;
  min-width: 120px;
  text-align: center;
  box-shadow: 0 3px 10px rgba(0,0,0,0.5);
}

/* КОМПАКТНЫЕ СТАТЫ — КАК В COMPENDIUM */
.stats-compact {
  padding: 20px;
  background: #0a0a0a;
  border-bottom: 3px solid #e8c63a;
}
.stat-row {
  display: flex;
  justify-content: space-around;
  margin: 10px 0;
}
.stat-big {
  font-size: 26x;
  font-weight: bold;
  color: #e8c63a;
  min-width: 80px;
  text-align: center;
}
.stat-small {
  font-size: 18px;
  color: #ccc;
  min-width: 70px;
  text-align: center;
}

/* ОРУЖИЕ — В ОДНОЙ СТРОКЕ */
.weapons-compact {
  padding: 0 20px 20px;
}
.weapon-line {
  background: #1a1a1a;
  padding: 14px 16px;
  margin: 8px 0;
  border-radius: 10px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-left: 5px solid #e8c63a;
  cursor: pointer;
  transition: all 0.2s;
}
.weapon-line:hover {
  background: #222;
  transform: translateX(6px);
}
.weapon-name {
  font-weight: bold;
  font-size: 16px;
}
.weapon-props {
  font-size: 13px;
  color: #aaa;
  font-style: italic;
}

/* ТРЕЙТЫ — ЧИПЫ */
.traits-compact {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  padding: 20px;
  justify-content: center;
}
.trait-chip {
  background: #9c1825;
  color: white;
  padding: 9px 16px;
  border-radius: 30px;
  font-size: 13.5px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 3px 8px rgba(0,0,0,0.5);
  transition: all 0.2s;
}
.trait-chip:hover {
  background: #c71e2e;
  transform: scale(1.08);
}

/* ВСПЛЫВАЮЩЕЕ ОПИСАНИЕ ТРЕЙТА */
.trait-popup {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.92);
  z-index: 3000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}
.trait-popup-content {
  background: #111;
  border: 4px solid #e8c63a;
  border-radius: 16px;
  padding: 24px;
  max-width: 90%;
  max-height: 80vh;
  overflow-y: auto;
  box-shadow: 0 0 40px rgba(232,198,58,0.6);
}
.trait-popup-title {
  font-size: 24px;
  font-weight: bold;
  color: #e8c63a;
  text-align: center;
  margin-bottom: 16px;
  text-shadow: 0 0 10px #000;
}
.trait-popup-text {
  line-height: 1.7;
  color: #eee;
  font-size: 15.5px;
}

/* Фиксы специально для телефонов */
* { touch-action: manipulation; }
button, .mini-card, .tab, .weapon-line, .trait-chip {
  -webkit-tap-highlight-color: rgba(232,198,58,0.3);
}

/* Статы — 100% влезают */
.stats-compact { padding:16px 16px; background:#0a0a0a; font-size:15px; }
.stat-row { 
  display:flex; justify-content:space-between; margin:10px 0; 
  flex-wrap:wrap; gap:10px;
}
.stat-row span { 
  flex:1; min-width:80px; text-align:center; 
  background:#111; padding:10px; border-radius:8px;
  color:#e8c63a; font-weight:bold;
}

/* Попап трейта — идеально как на твоём скриншоте */
.trait-popup {
  position:fixed; inset:0; background:rgba(0,0,0,0.97);
  display:flex; align-items:center; justify-content:center;
  z-index:9999; padding:20px; overflow-y:auto;
}
.trait-popup-content {
  background:#111; border:5px solid #e8c63a; border-radius:16px;
  max-width:95%; max-height:90vh; overflow-y:auto;
  box-shadow:0 0 60px rgba(232,198,58,0.8);
}
.trait-popup-header {
  background:#e8c63a; color:#000; padding:16px 20px;
  display:flex; justify-content:space-between; align-items:center;
  font-size:24px; font-weight:bold;
}
.trait-popup-close {
  width:48px; height:48px; background:#000; color:#e8c63a;
  border-radius:50%; display:flex; align-items:center; justify-content:center;
  font-size:36px; cursor:pointer;
}
.trait-popup-text {
  padding:24px 20px; line-height:1.8; color:#eee; font-size:16px;
  background:#0a0a0a;
}